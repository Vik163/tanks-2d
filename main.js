(()=>{"use strict";var t={523:(t,i,e)=>{e.d(i,{A:()=>h});var n=e(601),o=e.n(n),r=e(314),c=e.n(r),a=e(417),l=e.n(a),s=new URL(e(609),e.b),k=new URL(e(400),e.b),d=c()(o()),p=l()(s),u=l()(k);d.push([t.id,`* {\n   margin: 0;\n   padding: 0;\n   box-sizing: border-box;\n   font-family: 'Lilita One', serif;\n   -webkit-font-smoothing: antialiased;\n   -moz-osx-font-smoothing: grayscale;\n   text-rendering: geometricPrecision;\n   outline: 0;\n   outline-style: none;\n   -moz-outline-style: none;\n   -webkit-tap-highlight-color: transparent;\n}\n\n.app {\n   width: 100vw;\n   height: 100vh;\n   background-color: #242121;\n   display: flex;\n   justify-content: center;\n}\n\n.main {\n   width: fit-content;\n   height: fit-content;\n   position: relative;\n   border-radius: 5px;\n}\n\n.header {\n   background-color: #ba822c;\n   width: 100%;\n   height: 45px;\n   display: flex;\n   padding: 0 50px;\n   justify-content: space-between;\n   align-items: center;\n   border-radius: 5px;\n   border: 1px solid black;\n}\n\n.title {\n   text-align: center;\n   font-size: 30px;\n}\n\n.nav {\n   display: flex;\n   gap: 20px;\n   height: 30px;\n}\n\n.btn {\n   width: 100px;\n   height: 30px;\n   border: 2px solid black;\n   border-radius: 4px;\n   cursor: pointer;\n   background-color: #966925;\n}\n\n.btn_start_active {\n   background-color: #963f25;\n}\n\n.btn:last-child {\n   margin-left: 50px;\n}\n\n.cnv__container {\n   display: flex;\n   width: 1100px;\n   height: 812px;\n   border: 5px solid #ba822c;\n   background: url(${p});\n   border-radius: 5px;\n}\n\n#canvas {\n}\n\n.cnv__info {\n   height: 100%;\n   width: 135px;\n   padding-left: 2px;\n   background: url(${u}) no-repeat center;\n   background-size: 97% 97%;\n}\n\n.editor__nav {\n   position: absolute;\n   padding: 30px 10px;\n   top: 47px;\n   right: -84px;\n   display: none;\n   border: 2px solid #ba822c;\n   background: url(${p});\n\n   border-radius: 10px;\n   flex-direction: column;\n   align-items: center;\n   gap: 20px;\n}\n\n.editor__nav_active {\n   display: flex;\n}\n\n.editor__nav-btn {\n   cursor: pointer;\n}\n\n.map__grid-btn {\n   width: 55px;\n   height: 40px;\n   cursor: pointer;\n   background-color: #ba822c;\n}\n\n.editor__nav-btn {\n   width: 55px;\n   border-radius: 15px;\n   padding: 8px;\n}\n\n.editor__nav-btn_active {\n   box-shadow: 0 0 1px 1px #ba822c;\n   background-color: rgb(71, 69, 67);\n}\n`,""]);const h=d},314:t=>{t.exports=function(t){var i=[];return i.toString=function(){return this.map((function(i){var e="",n=void 0!==i[5];return i[4]&&(e+="@supports (".concat(i[4],") {")),i[2]&&(e+="@media ".concat(i[2]," {")),n&&(e+="@layer".concat(i[5].length>0?" ".concat(i[5]):""," {")),e+=t(i),n&&(e+="}"),i[2]&&(e+="}"),i[4]&&(e+="}"),e})).join("")},i.i=function(t,e,n,o,r){"string"==typeof t&&(t=[[null,t,void 0]]);var c={};if(n)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(c[l]=!0)}for(var s=0;s<t.length;s++){var k=[].concat(t[s]);n&&c[k[0]]||(void 0!==r&&(void 0===k[5]||(k[1]="@layer".concat(k[5].length>0?" ".concat(k[5]):""," {").concat(k[1],"}")),k[5]=r),e&&(k[2]?(k[1]="@media ".concat(k[2]," {").concat(k[1],"}"),k[2]=e):k[2]=e),o&&(k[4]?(k[1]="@supports (".concat(k[4],") {").concat(k[1],"}"),k[4]=o):k[4]="".concat(o)),i.push(k))}},i}},417:t=>{t.exports=function(t,i){return i||(i={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),i.hash&&(t+=i.hash),/["'() \t\n]|(%20)/.test(t)||i.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var i=[];function e(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function n(t,n){for(var r={},c=[],a=0;a<t.length;a++){var l=t[a],s=n.base?l[0]+n.base:l[0],k=r[s]||0,d="".concat(s," ").concat(k);r[s]=k+1;var p=e(d),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)i[p].references++,i[p].updater(u);else{var h=o(u,n);n.byIndex=a,i.splice(a,0,{identifier:d,updater:h,references:1})}c.push(d)}return c}function o(t,i){var e=i.domAPI(i);return e.update(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap&&i.supports===t.supports&&i.layer===t.layer)return;e.update(t=i)}else e.remove()}}t.exports=function(t,o){var r=n(t=t||[],o=o||{});return function(t){t=t||[];for(var c=0;c<r.length;c++){var a=e(r[c]);i[a].references--}for(var l=n(t,o),s=0;s<r.length;s++){var k=e(r[s]);0===i[k].references&&(i[k].updater(),i.splice(k,1))}r=l}}},659:t=>{var i={};t.exports=function(t,e){var n=function(t){if(void 0===i[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}i[t]=e}return i[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(e)}},540:t=>{t.exports=function(t){var i=document.createElement("style");return t.setAttributes(i,t.attributes),t.insert(i,t.options),i}},56:(t,i,e)=>{t.exports=function(t){var i=e.nc;i&&t.setAttribute("nonce",i)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var i=t.insertStyleElement(t);return{update:function(e){!function(t,i,e){var n="";e.supports&&(n+="@supports (".concat(e.supports,") {")),e.media&&(n+="@media ".concat(e.media," {"));var o=void 0!==e.layer;o&&(n+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),n+=e.css,o&&(n+="}"),e.media&&(n+="}"),e.supports&&(n+="}");var r=e.sourceMap;r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),i.styleTagTransform(n,t,i.options)}(i,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)}}}},113:t=>{t.exports=function(t,i){if(i.styleSheet)i.styleSheet.cssText=t;else{for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(document.createTextNode(t))}}},400:(t,i,e)=>{t.exports=e.p+"c2754b5d2b8a98d208df.png"},609:(t,i,e)=>{t.exports=e.p+"c764a7cbf35a90decc30.png"}},i={};function e(n){var o=i[n];if(void 0!==o)return o.exports;var r=i[n]={id:n,exports:{}};return t[n](r,r.exports,e),r.exports}function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function r(t){var i=function(t){if("object"!=o(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var e=i.call(t,"string");if("object"!=o(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(i)?i:i+""}function c(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r(n.key),n)}}function a(t,i,e){return i&&c(t.prototype,i),e&&c(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}e.m=t,e.n=t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},e.d=(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},e.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),e.p="/",e.b=document.baseURI||self.location.href,e.nc=void 0;var l=950,s=800,k=50,d=50,p=["UP","DOWN","LEFT","RIGHT"];function u(t,i,e){return(i=r(i))in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}const h=e.p+"14a25e009bc9b9b82435.jpg",b=e.p+"4b8023fa64d10fe56744.png",m=e.p+"513afd87838598248cd4.png",_=e.p+"bc558527ddc731a60a91.png";var f=[{link:h,nameId:"block_concrete_2",type:"concrete",part:"map",countHit:0,coord:[0,0]},{link:b,nameId:"block_bricks_2",type:"bricks",part:"map",countHit:0,coord:[0,0]},{link:_,nameId:"placeStart",type:"placeStart",part:"map",countHit:0,coord:[0,0]},{link:m,nameId:"headquarters",type:"headquarters",part:"map",countHit:0,coord:[0,0]}];function y(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?y(Object(e),!0).forEach((function(i){u(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):y(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}var H=function(){return a((function t(i,e){var o=i.cnv,r=i.ctx;n(this,t),this.cnv=o,this.ctx=r,this._$=function(t){return document.getElementById(t)},this.colorLine="rgb(1, 159, 1)",this.cnvWidth=l,this.blockWidth=k,this.cnvHeight=s,this.blockHeight=d,this._keyOpenGrid=!1,this.mapGame=JSON.parse(localStorage.getItem("map_1")),this.cursor={X:0,Y:0},this.keyMouse=!1,this.placesStart=JSON.parse(localStorage.getItem("placesStartMap_1")),this.btnSound=e}),[{key:"renderMap",value:function(){this.mapGame=JSON.parse(localStorage.getItem("map_1")),this._initRender(),this._keyOpenGrid&&this._drawGrid(),this.isSelectedBlock&&this._renderBlockbyCursor()}},{key:"_getImg",value:function(t){var i="";return 1===t.countHit&&(i=t.linkHit1?t.linkHit1:""),t.countHit>1&&(i=t.linkDel?t.linkDel:""),0===t.countHit&&(i=t.link?t.link:""),i}},{key:"_initRender",value:function(){var t,i=this;Object.values(this.mapGame).forEach((function(t){t.forEach((function(t){var e="bricks"===t.type?i._getImg(t):t.link,n=window.resources.get(e);i.ctx.drawImage(n,t.coord[0],t.coord[1],i.blockWidth,i.blockHeight)}))})),null===(t=this.placesStart)||void 0===t||t.forEach((function(t){var e=window.resources.get(t.link);i.ctx.drawImage(e,t.coord[0],t.coord[1],i.blockWidth,i.blockHeight)}))}},{key:"_handleGrid",value:function(){this._keyOpenGrid?this._keyOpenGrid=!1:(this._keyOpenGrid=!0,this._drawGrid())}},{key:"_editMap",value:function(){if(this._checkCoordScreen()){var t=Math.round(this.cursor.X/k)*k,i=Math.round(this.cursor.Y/d)*d;if(this._checkCoordBlock(t,i)){var e=this.mapGame[i].filter((function(i){return i.coord[0]!==t}));this.placesStart=this.placesStart.filter((function(i){return i.coord[0]!==t||"placeMyStart"===i.type})),this.mapGame=v(v({},this.mapGame),{},u({},i,e))}else{var n,o,r,c,a,l,s={part:"map",link:null===(n=this.isSelectedBlock)||void 0===n?void 0:n.link,nameId:null===(o=this.isSelectedBlock)||void 0===o?void 0:o.nameId,linkHit1:null===(r=this.isSelectedBlock)||void 0===r?void 0:r.linkHit1,linkHit2:null===(c=this.isSelectedBlock)||void 0===c?void 0:c.linkHit2,linkDel:null===(a=this.isSelectedBlock)||void 0===a?void 0:a.linkDel,countHit:0,type:null===(l=this.isSelectedBlock)||void 0===l?void 0:l.type,coord:[t,i]};"placeStart"===s.type?this.placesStart.push(s):"placeMyStart"!==s.type&&(this.mapGame[i]?this.mapGame[i].push(s):this.mapGame=v(v({},this.mapGame),{},u({},i,[s])))}localStorage.setItem("map_1",JSON.stringify(this.mapGame)),localStorage.setItem("placesStartMap_1",JSON.stringify(this.placesStart))}}},{key:"_checkCoordBlock",value:function(t,i){return!!(this.mapGame[i]&&this.mapGame[i].some((function(i){return i.coord[0]===t}))||this.placesStart.some((function(i){return i.coord[0]===t})))}},{key:"_checkCoordScreen",value:function(){return this.cursor.X<this.cnvWidth-k&&this.cursor.X>=0&&this.cursor.Y<this.cnvHeight-d&&this.cursor.Y>=0}},{key:"_moveBlockByCursor",value:function(t){var i=this.cnv.getBoundingClientRect();this.cursor.X=t.clientX-i.x-20,this.cursor.Y=t.clientY-i.y-20}},{key:"_renderBlockbyCursor",value:function(){if(this.isSelectedBlock){var t=window.resources.get(this.isSelectedBlock.link);this.ctx.drawImage(t,this.cursor.X,this.cursor.Y,this.blockWidth,this.blockHeight)}}},{key:"_selectBlock",value:function(t,i){var e,n=this,o=function(){var t;null===(t=n.blockHTML)||void 0===t||t.classList.remove("editor__nav-btn_active"),n.isSelectedBlock=void 0,n.keyMouse=!1,n.cursor.X=n.cnvWidth},r=function(){var t;null===(t=n.blockHTML)||void 0===t||t.classList.add("editor__nav-btn_active"),n.isSelectedBlock=i,n.keyMouse=!0};t.target===this.blockHTML?null!==(e=this.blockHTML)&&void 0!==e&&e.classList.contains("editor__nav-btn_active")?o():r():(o(),i.nameId&&(this.blockHTML=this._$(i.nameId)),r())}},{key:"_cancelSelectBlock",value:function(){var t;null===(t=this.blockHTML)||void 0===t||t.classList.remove("editor__nav-btn_active"),this.isSelectedBlock=void 0}},{key:"_drawGrid",value:function(){for(var t=0;t<=this.cnvWidth;t+=this.blockWidth)this.ctx.moveTo(t,0),this.ctx.lineTo(t,this.cnvHeight),this.ctx.strokeStyle=this.colorLine,this.ctx.lineWidth=1,this.ctx.stroke();for(var i=0;i<=this.cnvHeight;i+=this.blockHeight)this.ctx.moveTo(0,i),this.ctx.lineTo(this.cnvWidth,i),this.ctx.strokeStyle=this.colorLine,this.ctx.lineWidth=1,this.ctx.stroke()}},{key:"_handleButtonsWithListeners",value:function(){var t=this,i=this._$("editor_nav");null!=i&&i.classList.contains("editor__nav_active")?(null==i||i.classList.remove("editor__nav_active"),f.forEach((function(i){t._deleteBlockInfo(i)})),this._deleteButtonGrid(),this.cnv.removeEventListener("click",(function(){t.isSelectedBlock&&t._editMap()})),document.removeEventListener("mousemove",(function(i){t.isSelectedBlock&&t._moveBlockByCursor(i)})),document.removeEventListener("contextmenu",(function(i){i.preventDefault(),t._cancelSelectBlock()}))):(null==i||i.classList.add("editor__nav_active"),this._createButtonGrid(),f.forEach((function(i){t._createBlockInfo(i)})),this.cnv.addEventListener("click",(function(){t.isSelectedBlock&&t._editMap()})),document.addEventListener("mousemove",(function(i){t.isSelectedBlock&&t._moveBlockByCursor(i)})),document.addEventListener("contextmenu",(function(i){i.preventDefault(),t._cancelSelectBlock()})))}},{key:"_deleteButtonGrid",value:function(){var t=this,i=this._$("map__grid-btn");null==i||i.removeEventListener("click",(function(){t._handleGrid()})),null==i||i.remove()}},{key:"_createButtonGrid",value:function(){var t,i=this,e=document.createElement("button");e.setAttribute("id","map__grid-btn"),e.setAttribute("type","button"),e.classList.add("map__grid-btn"),e.textContent="GRID",null===(t=this._$("editor_nav"))||void 0===t||t.appendChild(e),e.addEventListener("click",(function(){i.btnSound.play(),i._handleGrid()}))}},{key:"_deleteBlockInfo",value:function(t){var i=this,e=this._$(t.nameId?t.nameId:"");null==e||e.removeEventListener("click",(function(e){i._selectBlock(e,t)})),null==e||e.remove()}},{key:"_createBlockInfo",value:function(t){var i,e=this,n=document.createElement("img");t.link&&n.setAttribute("src",t.link),t.nameId&&(n.setAttribute("id",t.nameId),n.setAttribute("alt",t.nameId)),n.classList.add("editor__nav-btn"),null===(i=this._$("editor_nav"))||void 0===i||i.appendChild(n),n.addEventListener("click",(function(i){e.btnSound.play(),e._selectBlock(i,t)}))}},{key:"openEditor",value:function(){if(0===Object.keys(this.mapGame).length)for(var t=0;t<s;t+=d)this.mapGame[t]=[];this._handleButtonsWithListeners()}}])}(),g=function(){var t={},i=0,e="UP";function n(n,o){var r,c=n.code;switch(c){case"Space":r="SPACE";break;case"ArrowLeft":r="LEFT",e="LEFT",i=-90;break;case"ArrowUp":r="UP",e="UP",i=0;break;case"ArrowRight":r="RIGHT",e="RIGHT",i=90;break;case"ArrowDown":r="DOWN",e="DOWN",i=180;break;default:r=c,e="UP",i=0}t[r]=o}return document.addEventListener("keydown",(function(t){return n(t,!0)})),document.addEventListener("keyup",(function(t){return n(t,!1)})),window.addEventListener("blur",(function(){t={}})),{isDown:function(n){return{angle:i,dir:e,status:t[n.toUpperCase()]}},isUp:function(i){return t[i.toUpperCase()]}}};const I=e.p+"c3e6b432fd36825359d3.png",D=e.p+"2f4f0510c50ef70e166c.png";var x={img:I,imgHit:D,dir:"UP",stars:0,level:1,hits:0,coord:[550,751]};const S=e.p+"8f6e16de5b368c8dee55.png",w=e.p+"497e1418f415eddd471e.png";var T=[{coord:[900,0],countHit:0,link:_,part:"map",nameId:"placeStart",type:"placeStart"},{coord:[400,50],countHit:0,link:_,part:"map",type:"placeStart",nameId:"placeStart"},{part:"map",link:_,countHit:0,type:"placeStart",coord:[50,150],nameId:"placeStart"},{part:"map",link:_,countHit:0,type:"placeStart",coord:[850,150],nameId:"placeStart"},{coord:[550,750],countHit:0,link:_,part:"map",type:"placeMyStart",nameId:"placeStart"}],O={0:[{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[150,0]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[200,0]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[250,0]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[600,0]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[650,0]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[700,0]}],50:[{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[450,50]}],100:[{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[0,100]},{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[50,100]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[100,100]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[150,100]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[350,100]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[400,100]},{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[450,100]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[500,100]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[550,100]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[750,100]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[800,100]},{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[850,100]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[900,100]}],150:[{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[0,150]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[150,150]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[200,150]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[250,150]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[450,150]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[650,150]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[700,150]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[750,150]},{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[900,150]}],200:[{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[200,200]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[250,200]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[450,200]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[650,200]},{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[700,200]}],250:[{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[250,250]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[350,250]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[400,250]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[450,250]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[500,250]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[550,250]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[650,250]}],300:[{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[250,300]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[300,300]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[350,300]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[450,300]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[550,300]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[600,300]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[650,300]}],350:[{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[100,350]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[150,350]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[750,350]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[800,350]}],400:[{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[0,400]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[50,400]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[100,400]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[150,400]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[200,400]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[250,400]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[300,400]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[350,400]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[400,400]},{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[450,400]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[500,400]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[550,400]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[600,400]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[650,400]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[700,400]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[750,400]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[800,400]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[850,400]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[900,400]}],450:[{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[350,450]},{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[450,450]},{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[550,450]}],500:[{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[150,500]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[200,500]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[250,500]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[300,500]},{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[350,500]},{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[550,500]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[600,500]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[650,500]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[700,500]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[750,500]}],550:[{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[150,550]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[350,550]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[550,550]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[750,550]}],600:[{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[50,600]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[100,600]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[150,600]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[300,600]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[350,600]},{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[400,600]},{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[450,600]},{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[500,600]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[550,600]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[600,600]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[750,600]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[800,600]},{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[850,600]}],650:[{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[50,650]},{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[100,650]},{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[800,650]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[850,650]}],700:[{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[0,700]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[50,700]},{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[300,700]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[400,700]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[450,700]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[500,700]},{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[600,700]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[850,700]},{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[900,700]}],750:[{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[0,750]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[50,750]},{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[300,750]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[400,750]},{part:"map",link:m,countHit:0,nameId:"headquarters",type:"headquarters",coord:[450,750]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[500,750]},{part:"map",nameId:"block_concrete_2",link:h,countHit:0,type:"concrete",coord:[600,750]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[850,750]},{part:"map",nameId:"block_bricks_1",link:b,linkHit1:S,linkDel:w,countHit:0,type:"bricks",coord:[900,750]}]};const L=e.p+"1f2f83e0e602f13a3bd5.ogg",E=e.p+"6c0645889c7d4cc8ff11.ogg",M=e.p+"15ab7bf1e55a405686a6.ogg",P=e.p+"257b3476c72dfbec0d0f.ogg",B=e.p+"d2e3a74e639b7bbcff9e.ogg";var W={tune_1:e.p+"d2e258591160eb8e5472.ogg",engine:L,tankFire:P,button:B,timeStopIn:E,timeStopOut:M};function C(t,i){var e=Math.floor(i/d)*d;return{cellX:Math.floor(t/k)*k,cellY:e}}function G(t,i,e,n){var o,r,c,a,l=C(i,e),s=l.cellX,p=l.cellY;return"UP"===t&&("fire"===n&&O[p]&&O[p].some((function(t){return t.coord[0]===s&&e<t.coord[1]+d-10&&t.countHit<2&&(o=t,!0)}))||"tank"===n&&O[p-d]&&O[p-d].some((function(t){return t.coord[0]===s&&t.countHit<2&&(o=t,!0)}))||e<=0)?o||!0:"DOWN"===t&&(O[p+d]&&O[p+d].some((function(t){return("fire"===n?t.coord[0]===s&&e>t.coord[1]-d+15&&e<t.coord[1]-d+20&&t.countHit<2:t.coord[0]===s&&t.countHit<2)&&(r=t,!0)}))||e>=750)?r||!0:"RIGHT"===t&&(O[p].some((function(t){return("fire"===n?i>t.coord[0]-k+10&&i<t.coord[0]-k+15&&t.countHit<2:t.coord[0]===s+k&&t.countHit<2)&&(c=t,!0)}))||i>=900)?c||!0:!("LEFT"!==t||!(O[p].some((function(t){return("fire"===n?i>t.coord[0]+k-15&&i<t.coord[0]+k-10&&t.countHit<2:t.coord[0]===s-k&&t.countHit<2)&&(a=t,!0)}))||i<=0))&&(a||!0)}var A=function(){return a((function t(i){var e=this;n(this,t),this.ctx=i,this.cnvWidth=l,this.cnvHeight=s,this.blockWidth=k,this.blockHeight=d,this.myTank=x,this.dir=x.dir,this.keys=g(),this.gameTime=0,this.tankX=x.coord[0],this.tankY=x.coord[1],this._angle=0,this.map=O,this._coordCell={cellX:0,cellY:0},this._keyRotate=!1,this._delayRotate=150,this._soundTankEngine=new Audio(W.engine),this.checkCollisions=function(){return G(e.dir,e.tankX,e.tankY,"tank")}}),[{key:"update",value:function(){this._coordCell=C(this.tankX,this.tankY),this._moveAndRotateTank(),x.coord[0]=this.tankX,x.coord[1]=this.tankY}},{key:"_setParameters",value:function(){var t=this;this.keys.isDown("UP").status||this.keys.isDown("DOWN").status||this.keys.isDown("LEFT").status||this.keys.isDown("RIGHT").status?(p.forEach((function(i){t.keys.isDown(i).status&&(t._angle=t.keys.isDown(i).angle,t.dir!==t.keys.isDown(i).dir&&(x.dir=t.dir=t.keys.isDown(i).dir,t._setTimerRotate()))})),this._soundTankEngine.play()):(this._soundTankEngine.pause(),this._soundTankEngine.currentTime=0)}},{key:"_setTimerRotate",value:function(){var t=this;this._keyRotate=!0;var i=setTimeout((function(){t._keyRotate=!1,clearTimeout(i)}),this._delayRotate)}},{key:"_checkMoveTank",value:function(t){return!!(this.keys.isDown(t).status&&!this.checkCollisions(t,this.tankX,this.tankY,"tank")||this._smoothStop(t))}},{key:"_moveAndRotateTank",value:function(){this._setParameters(),this._checkMoveTank("UP")&&!this._keyRotate&&(this.tankY-=.5),this._checkMoveTank("DOWN")&&!this._keyRotate&&(this.tankY+=.5),this._checkMoveTank("RIGHT")&&!this._keyRotate&&(this.tankX+=.5),this._checkMoveTank("LEFT")&&!this._keyRotate&&(this.tankX-=.5)}},{key:"_smoothStop",value:function(t){return"UP"===t&&Math.floor(this.tankY)-1>this._coordCell.cellY&&"UP"===this.dir||"DOWN"===t&&Math.floor(this.tankY)>this._coordCell.cellY+3&&Math.floor(this.tankY)<this._coordCell.cellY+this.blockHeight&&"DOWN"===this.dir||"RIGHT"===t&&Math.floor(this.tankX)>this._coordCell.cellX&&Math.floor(this.tankX)<this._coordCell.cellX+this.blockWidth&&"RIGHT"===this.dir||"LEFT"===t&&Math.floor(this.tankX)>this._coordCell.cellX&&"LEFT"===this.dir}},{key:"renderMyTank",value:function(){var t=window.resources.get(this.myTank.img);this.ctx.save(),this.ctx.translate(Math.round(this.tankX)+this.blockWidth/2,this.tankY+this.blockWidth/2),this.ctx.rotate(this._angle*Math.PI/180),this.ctx.drawImage(t,-this.blockWidth/2,-this.blockWidth/2),this.ctx.restore()}}])}();const R=e.p+"7194d83fa5577fc57f43.png",X=e.p+"210970d3e9b62c3dd36a.png";var Y={fireLink:[R,X],coord:[0,0]},j=function(){return a((function t(i,e,o,r,c){n(this,t),this.ctx=i,this.shoot=Y,this.blockWidth=k,this.blockHeight=d,this.keys=g(),this.fireX=e,this.fireY=o,this.dir=r,this._angle=c,this.speedFire=.9,this._timerLink=0}),[{key:"update",value:function(){return"UP"===this.dir&&(this.fireY-=this.speedFire),"DOWN"===this.dir&&(this.fireY+=this.speedFire),"RIGHT"===this.dir&&(this.fireX+=this.speedFire),"LEFT"===this.dir&&(this.fireX-=this.speedFire),{fireX:this.fireX,fireY:this.fireY}}},{key:"render",value:function(){var t=this.shoot.fireLink[0];this._timerLink>100&&(t=this.shoot.fireLink[1]),this._timerLink<=100&&(t=this.shoot.fireLink[0]),200===this._timerLink&&(this._timerLink=0),this._timerLink++;var i=window.resources.get(t);this.ctx.save(),"UP"===this.dir&&this.ctx.translate(Math.round(this.fireX+this.blockWidth/2.5)+this.blockWidth/2,this.fireY+this.blockWidth/2),"DOWN"===this.dir&&this.ctx.translate(Math.round(this.fireX-this.blockWidth/2.5)+this.blockWidth/2,this.fireY+this.blockWidth/2),"RIGHT"===this.dir&&this.ctx.translate(Math.round(this.fireX)+this.blockWidth/2,this.fireY+this.blockHeight/2.5+this.blockWidth/2),"LEFT"===this.dir&&this.ctx.translate(Math.round(this.fireX)+this.blockWidth/2,this.fireY-this.blockHeight/2.5+this.blockWidth/2),this.ctx.rotate(this._angle*Math.PI/180),this.ctx.drawImage(i,-this.blockWidth/2,-this.blockWidth/2),this.ctx.restore()}}])}();function F(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,n)}return e}function U(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?F(Object(e),!0).forEach((function(i){u(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):F(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}var N=function(){return a((function t(i){var e=this;n(this,t),this.ctx=i,this.cnvWidth=l,this.cnvHeight=s,this.blockWidth=k,this.blockHeight=d,this.shooting=[],this.keys=g(),this.timer=0,this.delayFire=350,this._soundTankFire=new Audio(W.tankFire),this.dir=x.dir,this._coordCell={cellX:0,cellY:0},this.map=O,this.fireX=x.coord[0],this.fireY=x.coord[1],this.checkCollisions=function(){return G(e.dir,e.fireX,e.fireY,"fire")}}),[{key:"update",value:function(){this._deleteFires(),this._createFires()}},{key:"_createFires",value:function(){if(this.keys.isDown("SPACE").status)if(this.timer>this.delayFire){this._soundTankFire.play(),this.dir=x.dir;var t=new j(this.ctx,x.coord[0],x.coord[1],this.dir,this.keys.isDown(this.dir).angle);this.shooting.push(t),this.timer=0}else this.timer>this.delayFire/2&&(this._soundTankFire.pause(),this._soundTankFire.currentTime=0);this.timer++}},{key:"_deleteFires",value:function(){var t=this;this.shooting.length>0&&(this.shooting=this.shooting.filter((function(i){var e=i.update(),n=e.fireX,o=e.fireY;t.fireX=n,t.fireY=o;var r=t.checkCollisions(t.dir,t.fireX,t.fireY);return!r||(t._hitNode(r),!1)})))}},{key:"_hitNode",value:function(t){if("boolean"!=typeof t&&"map"===t.part){var i=this.map[t.coord[1]].map((function(i){return"bricks"===t.type&&i.coord[0]===t.coord[0]&&i.countHit++,i}));this.map=U(U({},this.map),{},u({},t.coord[1],i)),localStorage.setItem("map_1",JSON.stringify(this.map))}}},{key:"render",value:function(){this.shooting.length>0&&this.shooting.forEach((function(t){return t.render()}))}}])}(),$=function(){return a((function t(i){n(this,t),this._$=function(t){return document.getElementById(t)},this.cnv=this._$("canvas"),this.ctx=this.cnv.getContext("2d"),this.dt=0,this.cnvWidth=l,this.cnvHeight=s,this.blockWidth=k,this.blockHeight=d,this.keyGame=!1,this.keys=g(),this.btn=document.getElementById("btn_start"),this.intervalId=void 0,this.btnSound=i,this.maps=new H({cnv:this.cnv,ctx:this.ctx},i),this.myTank=new A(this.ctx),this.sounds=W,this.shooting=new N(this.ctx)}),[{key:"addListeners",value:function(){var t,i=this;null===(t=this._$("btn_editor"))||void 0===t||t.addEventListener("click",(function(){i.btnSound.play(),i.keyGame||i.maps.openEditor()}))}},{key:"actionsBtn",value:function(t,i,e){var n=this;return"START"===t?"START"===this.btn.textContent?(this.keyGame=!0,this.btn.textContent="PAUSE"):("PAUSE"===this.btn.textContent?(this.btn.textContent="PAUSE*",i.play()):(this.btn.textContent="PAUSE",e.play()),this.intervalId||(this.intervalId=setInterval((function(){n.btn.classList.toggle("btn_start_active"),"PAUSE"===n.btn.textContent&&(clearInterval(n.intervalId),n.intervalId=void 0,n.btn.classList.remove("btn_start_active"))}),1e3))):(clearInterval(this.intervalId),this.intervalId=void 0,this.btn.classList.remove("btn_start_active"),this.keyGame=!1,this.btn.textContent="START"),this.keyGame}},{key:"update",value:function(){this.myTank.update(),this.shooting.update()}},{key:"render",value:function(){this.cnv.width=this.cnvWidth,this.cnv.height=this.cnvHeight,this.maps.renderMap(),this.myTank.renderMyTank(),this.shooting.render()}}])}(),J=e(72),q=e.n(J),z=e(825),Q=e.n(z),K=e(659),V=e.n(K),Z=e(56),tt=e.n(Z),it=e(540),et=e.n(it),nt=e(113),ot=e.n(nt),rt=e(523),ct={};ct.styleTagTransform=ot(),ct.setAttributes=tt(),ct.insert=V().bind(null,"head"),ct.domAPI=Q(),ct.insertStyleElement=et(),q()(rt.A,ct),rt.A&&rt.A.locals&&rt.A.locals;var at=[b,h,S,w,m,_,I,D,R,X];!function(){var t,i,e=function(t){return document.getElementById(t)};localStorage.setItem("map_1",JSON.stringify(O)),localStorage.setItem("placesStartMap_1",JSON.stringify(T));var n=new Audio(W.tune_1),o=new Audio(W.button),r=new Audio(W.timeStopIn),c=new Audio(W.timeStopOut),a=new $(o);function l(){a.update(),a.render(),requestAnimationFrame(l)}!function(){var t={},i=[];function e(e){if(t[e])return t[e];var o=new Image;o.onload=function(){n()&&i.forEach((function(t){t()}))},t[e]=o,o.src=e}function n(){var i=!0;for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&!t[e]&&(i=!1);return i}window.resources={load:function(t){t instanceof Array?t.forEach((function(t){e(t)})):e(t)},get:function(i){return t[i]},onReady:function(t){i.push(t)},isReady:n}}(),window.resources.load(at),window.resources.onReady((function(){l()})),null===(t=e("btn_start"))||void 0===t||t.addEventListener("click",(function(t){var i,l,s;n.play(),o.play(),a.actionsBtn("START",r,c),null===(i=e("map__grid-btn"))||void 0===i||i.remove(),null===(l=e("editor_nav"))||void 0===l||l.classList.remove("editor__nav_active"),f.forEach((function(t){var i;t.nameId&&(null===(i=e(t.nameId))||void 0===i||i.remove())})),null===(s=e("btn_start"))||void 0===s||s.blur()})),null===(i=e("btn_stop"))||void 0===i||i.addEventListener("click",(function(){var t;o.play(),a.actionsBtn("STOP",r,c),n.pause(),n.currentTime=0,null===(t=e("btn_stop"))||void 0===t||t.blur()})),a.addListeners()}()})();